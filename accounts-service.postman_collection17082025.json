{
  "info": {
    "name": "Accounts Service API",
    "_postman_id": "a1b2c3d4-e5f6-7890-abcd-1234567890ab",
    "description": "Postman collection for Accounts Service with Journals, Reports, and Snapshots",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "GET Health",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/health"
          },
          "response": [
            {
              "name": "OK",
              "originalRequest": {},
              "status": "OK",
              "code": 200,
              "body": "{ \"ok\": true }"
            }
          ]
        },
        {
          "name": "GET Ready",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/ready"
          },
          "response": [
            {
              "name": "Ready",
              "status": "OK",
              "code": 200,
              "body": "{ \"ok\": true }"
            }
          ]
        }
      ]
    },
    {
      "name": "Chart of Accounts",
      "item": [
        {
          "name": "GET COA",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/admin/coa"
          },
          "response": [
            {
              "name": "Example",
              "status": "OK",
              "code": 200,
              "body": "[\n  { \"code\": \"1100\", \"name\": \"Cash\", \"type\": \"Asset\" },\n  { \"code\": \"4000\", \"name\": \"Subscription income – General All Grades\", \"type\": \"Income\" }\n]"
            }
          ]
        }
      ]
    },
    {
      "name": "Journal",
      "item": [
        {
          "name": "List Journals",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/journal"
          },
          "response": [
            {
              "name": "Example",
              "status": "OK",
              "code": 200,
              "body": "[\n  {\n    \"_id\": \"650f1e7b9e8c1f5a3c123456\",\n    \"docNo\": \"INV-1001\",\n    \"docType\": \"Invoice\",\n    \"date\": \"2025-09-01\",\n    \"entries\": [\n      { \"accountCode\": \"1400\", \"dc\": \"D\", \"amount\": 300.0 },\n      { \"accountCode\": \"4000\", \"dc\": \"C\", \"amount\": 300.0 }\n    ]\n  }\n]"
            }
          ]
        },
        {
          "name": "Invoice",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-09-01\",\n  \"docNo\": \"INV-1001\",\n  \"memberId\": \"M001\",\n  \"amount\": 300.00,\n  \"incomeCode\": \"4000\"\n}"
            },
            "url": "{{baseUrl}}/api/journal/invoice"
          },
          "response": [
            {
              "name": "Invoice Example",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"docNo\": \"INV-1001\",\n  \"docType\": \"Invoice\",\n  \"date\": \"2025-09-01\",\n  \"entries\": [\n    { \"accountCode\": \"1400\", \"accountName\": \"Accounts receivable\", \"dc\": \"D\", \"amount\": 300.00 },\n    { \"accountCode\": \"4000\", \"accountName\": \"Subscription income – General All Grades\", \"dc\": \"C\", \"amount\": 300.00 }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Credit Note",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-09-05\",\n  \"docNo\": \"CN-1001\",\n  \"memberId\": \"M001\",\n  \"amount\": 50.00\n}"
            },
            "url": "{{baseUrl}}/api/journal/credit-note"
          },
          "response": [
            {
              "name": "Credit Note Example",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"docNo\": \"CN-1001\",\n  \"docType\": \"CreditNote\",\n  \"date\": \"2025-09-05\",\n  \"entries\": [\n    { \"accountCode\": \"4900\", \"accountName\": \"Credit Notes / Discounts\", \"dc\": \"D\", \"amount\": 50.00 },\n    { \"accountCode\": \"1400\", \"accountName\": \"Accounts receivable\", \"dc\": \"C\", \"amount\": 50.00 }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Receipt (with Member)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-09-10\",\n  \"docNo\": \"RCPT-1001\",\n  \"memberId\": \"M001\",\n  \"amount\": 100.00,\n  \"clearingCode\": \"1220\"\n}"
            },
            "url": "{{baseUrl}}/api/journal/receipt"
          },
          "response": [
            {
              "name": "Receipt Example",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"docNo\": \"RCPT-1001\",\n  \"docType\": \"Receipt\",\n  \"date\": \"2025-09-10\",\n  \"entries\": [\n    { \"accountCode\": \"1220\", \"accountName\": \"Card gateway clearing\", \"dc\": \"D\", \"amount\": 100.00 },\n    { \"accountCode\": \"2020\", \"accountName\": \"Payment on Account\", \"dc\": \"C\", \"amount\": 100.00 }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Claim Credit",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-09-15\",\n  \"docNo\": \"CLAIM-0001\",\n  \"applicationId\": \"A-12345\",\n  \"memberId\": \"M001\",\n  \"amount\": 50.00\n}"
            },
            "url": "{{baseUrl}}/api/journal/claim-credit"
          },
          "response": [
            {
              "name": "Claim Example",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"docNo\": \"CLAIM-0001\",\n  \"docType\": \"ClaimCredit\",\n  \"date\": \"2025-09-15\",\n  \"entries\": [\n    { \"accountCode\": \"2020\", \"accountName\": \"Payment on Account\", \"dc\": \"D\", \"amount\": 50.00 },\n    { \"accountCode\": \"1400\", \"accountName\": \"Accounts receivable\", \"dc\": \"C\", \"amount\": 50.00 }\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Reports",
      "item": [
        {
          "name": "Trial Balance",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/trial-balance?from=2025-01-01&to=2025-12-31"
          },
          "response": [
            {
              "name": "TB Example",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"from\": \"2025-01-01\",\n  \"to\": \"2025-12-31\",\n  \"balances\": [\n    { \"accountCode\": \"1400\", \"debit\": 300.00, \"credit\": 50.00, \"balance\": 250.00 },\n    { \"accountCode\": \"4000\", \"debit\": 0.00, \"credit\": 300.00, \"balance\": -300.00 }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Income Statement",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/income-statement?from=2025-01-01&to=2025-12-31"
          },
          "response": [
            {
              "name": "IS Example",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"income\": 300.00,\n  \"discounts\": 50.00,\n  \"expenses\": 20.00,\n  \"net\": 230.00\n}"
            }
          ]
        },
        {
          "name": "Member Balances",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/balances"
          },
          "response": [
            {
              "name": "Balances Example",
              "status": "OK",
              "code": 200,
              "body": "[ { \"memberId\": \"M001\", \"balance\": 250.00 } ]"
            }
          ]
        },
        {
          "name": "Month-End Report (lock snapshot)",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/month-end?period=2025-08&lock=true&notes=Auditor%20review"
          },
          "response": [
            {
              "name": "Month-End Example",
              "status": "OK",
              "code": 200,
              "body": "{ \"period\": \"2025-08\", \"locked\": true, \"snapshotId\": \"65ab1234e8f9a1234567890a\" }"
            }
          ]
        },
        {
          "name": "Year-End Report (lock snapshot)",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/year-end?year=2025&lock=true&notes=Auditor%20review"
          },
          "response": [
            {
              "name": "Year-End Example",
              "status": "OK",
              "code": 200,
              "body": "{ \"year\": 2025, \"locked\": true, \"snapshotId\": \"65ab9999e8f9a1234567890f\" }"
            }
          ]
        },
        {
          "name": "List Snapshots",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/reports/snapshots"
          },
          "response": [
            {
              "name": "Snapshots Example",
              "status": "OK",
              "code": 200,
              "body": "[ { \"_id\": \"65ab1234e8f9a1234567890a\", \"period\": \"2025-08\", \"locked\": true } ]"
            }
          ]
        }
      ]
    }
  ],
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:4000" }
  ]
}
